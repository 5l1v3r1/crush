Todo:
if branches should not need to be commands
Value for := and = should maybe implicitly be a subshell?
Handle stderr on external commands
Maybe rethink unnamed arguments and closure signatures
Add background job support
New command: which
Add a range type
Figure out how to support options like --foo and -b in external commands in a nice way
Make it so e.g. cargo:build works
Add system tests for type casting
Add system tests for for loop
Add system tests for binary stream handling
Add system tests for structs
Add system tests for dealing with tables as streams
Make parse error reporting more helpful
Error source propagation
Add command-field to CrushError
Add source field to CrushError
Make error printing display source of error
Binary values can be big. Make them shared behind an Arc. Same with table. Maybe even String?
In closures without a signature, put unnamed variables in the variable 'unnamed'
Figure out how to make external commands with subcommands convenient again
Kwargs should maybe not be a dict? How should repeated arguments be handled? We should at least preserve order...
Comparison unimplemented for dict
Comparison unimplemented for struct
Allow empty closures
Missing some value serialisations and deserialisations
Allow while-loop without body
empty_channel should not create new empty channels
Make integers overflow to arbitrary precision math
Run an executable by giving its path
Add reject command that removes specified columns from a table/stream
Redo waiting on JobJoinHandles
Redo empty streams
Add control.source command
Flesh out seq command with support for from and step
Add String:join command
Add String:lpad command
Add String:rpad command
Add String:substr command
Figure out how to make custom reduce commands
Data enums + pattern matching syntax
Add %% for recursive wildcard matches
Add readline command that reads one line of interactive text input from the user via the terminal
support adding prototypes to structs
New operators: += increment and friends
For single column tabular output, display it on screen it in many rows to save space
Arbitrary precision integers?
make file globing testable via fakes
Add package command to create a new namespace
Make it possible to use the pipe operator with the for command
pbuf.parse command that takes a protobuf definition and uses it to deserialize protobuf data
avro.parse command that deserializes avro data
toml.parse command that deserializes toml data
Add history command with all previous interactive invocations, including invocation string, current status, and misc metadata.
Add proc:jobs command
pseudo-tty for cmd command output
pseudo-tty for cmd command input
